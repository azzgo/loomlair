{% extends "base.html" %}
{% block script %}
	{{super()}}
	<script>
$(document).ready(function(){
			$("#logtb").submit(function(){
				var email = $("#email").val();
				var nickname = $("#nickname").val();
				
				//var email_re = new RegExp("^\w+\@\w+\.+\w"); 求教为啥不行
				var email_re = new RegExp("^[a-zA-Z0-9_+.-]+\@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,4}$");
				if (nickname == "" && email == ""){
					$(".tip").text("亲，您什么都没输入了");
					return false;
				}
				else if (nickname == ""){
					$(".tip").text("亲，您忘输入nickname了");
					return false;
				}
				else if (email == ""){
					$(".tip").text("亲，您忘输入email了");
					return false;
				}
				else if(!email_re.test(email)){
					$(".tip").text("亲，请输入正确的Email格式");
					return false;
				}
				else {
					return true;
				}
			});
		});
	</script>
{% endblock script %}
{% block body %}
<div id="wall">
		<div id="logo">
			<p class="tip"></p>
		</div>	
		<h1>欢迎来到loom洽谈室</h1>			
        <div id="logintable">
			<form id="logtb" name="login" action="/login" method="post">
				{{notify}}
                	<table>
                    	<tr class="1st">
                        	<td>Email:</td>
                        	<td><input id="email" type="text" name="Email" /></td>
							<td rowspan="2" >
								<input id="submit" type="submit" value="登录" />
							</td>
                    	</tr>
                        <tr class="2nd">
                        	<td>nickname:</td>
                            <td><input id="nickname" type="text" name="nickname"/></td>
                         </tr>
                        </table>
        	</form>
    	</div>	
    </div>
{% endblock body %}
